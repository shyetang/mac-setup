# mac-setup

ğŸš€ **å®Œå…¨è‡ªåŠ¨åŒ–çš„ macOS å¼€å‘ç¯å¢ƒåˆå§‹åŒ–è„šæœ¬**

ä¸€é”®éƒ¨ç½²å…¨æ ˆå¼€å‘ç¯å¢ƒï¼Œæ”¯æŒæ™ºèƒ½é…ç½®æ£€æµ‹ä¸ä¸‰çº§å›æ»šæœºåˆ¶ã€‚

## âœ¨ ç‰¹æ€§

- âœ… **ä¸€é”®åˆå§‹åŒ–** - è‡ªåŠ¨å®‰è£…å’Œé…ç½®æ•´ä¸ªå¼€å‘ç¯å¢ƒ
- âœ… **æ™ºèƒ½é…ç½®åˆå¹¶** - è‡ªåŠ¨è¯†åˆ«ç°æœ‰ Oh My Zsh é…ç½®ï¼Œæ™ºèƒ½åˆå¹¶æ’ä»¶åˆ—è¡¨
- âœ… **å®Œæ•´å¤‡ä»½æ¢å¤** - ä¿®æ”¹å‰è‡ªåŠ¨å¤‡ä»½ï¼Œ`rollback.sh env` å¯å®Œå…¨å›æ»š
- âœ… **ä¸‰çº§å›æ»š** - soft/env/full çµæ´»åº”å¯¹å„ç§éœ€æ±‚
- âœ… **æ™ºèƒ½å¹‚ç­‰** - å®‰å…¨å¤šæ¬¡è¿è¡Œï¼Œä¸ä¼šé‡å¤å®‰è£…æˆ–å†²çª

## ğŸ¯ å®‰è£…å†…å®¹

| ç±»åˆ«         | å·¥å…·                                                                     |
| ------------ | ------------------------------------------------------------------------ |
| **ç³»ç»Ÿ**     | Homebrew, Oh My Zsh, Starship, fzf, zoxide                               |
| **OMZ æ’ä»¶** | zsh-syntax-highlightingï¼ˆè¯­æ³•é«˜äº®ï¼‰, zsh-autosuggestionsï¼ˆè‡ªåŠ¨å»ºè®®ï¼‰     |
| **è¯­è¨€**     | Python (pyenv), Node.js (fnm), Rust (rustup), Java (jenv), Go (Homebrew) |
| **è½¯ä»¶åŒ…**   | ç”± `brew-packages.txt` å®šä¹‰                                              |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†å¹¶é…ç½®

```bash
git clone <repo-url> mac-setup && cd mac-setup

# æŸ¥çœ‹/ç¼–è¾‘è½¯ä»¶åˆ—è¡¨
cat brew-packages.txt
vim brew-packages.txt  # å¯é€‰ï¼šè‡ªå®šä¹‰
```

### 2. æ‰§è¡Œå®‰è£…

```bash
chmod +x setup-macos.sh
./setup-macos.sh
```

### 3. éªŒè¯ç¯å¢ƒ

```bash
exec zsh  # é‡è½½ç»ˆç«¯
python --version && node --version && java -version
```

## ğŸ“¦ brew-packages.txt æ ¼å¼

```bash
# ===== Formulae (CLI å·¥å…·) =====
git
ripgrep
fzf

# ===== Casks (GUI åº”ç”¨) =====
visual-studio-code
google-chrome
```

**è§„åˆ™ï¼š**

- `# ===== Formulae` æ ‡è®° CLI å·¥å…·ï¼Œ`# ===== Casks` æ ‡è®° GUI åº”ç”¨
- æ¯è¡Œä¸€ä¸ªåŒ…åï¼Œä»¥ `#` å¼€å¤´çš„å…¶ä»–è¡Œä¸ºæ³¨é‡Š
- **æ–‡ä»¶æœ«å°¾å¿…é¡»æœ‰æ¢è¡Œç¬¦**

### é»˜è®¤è½¯ä»¶æ¸…å•

#### CLI å·¥å…· (Formulae)

| è½¯ä»¶         | è¯´æ˜                             |
| ------------ | -------------------------------- |
| `git`        | ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ                     |
| `wget`       | æ–‡ä»¶ä¸‹è½½å·¥å…·                     |
| `ripgrep`    | å¿«é€Ÿæ–‡æœ¬æœç´¢ï¼ˆæ¯” grep å¿« 10 å€ï¼‰ |
| `fd`         | ç°ä»£åŒ–æ–‡ä»¶æŸ¥æ‰¾ï¼ˆæ›¿ä»£ findï¼‰      |
| `fzf`        | æ¨¡ç³Šæœç´¢å·¥å…·ï¼ˆCtrl+R å†å²æœç´¢ï¼‰  |
| `jq`         | JSON å¤„ç†å·¥å…·                    |
| `bat`        | å¸¦è¯­æ³•é«˜äº®çš„ cat æ›¿ä»£å“          |
| `htop`       | äº¤äº’å¼è¿›ç¨‹æŸ¥çœ‹å™¨                 |
| `zoxide`     | æ™ºèƒ½ç›®å½•è·³è½¬ï¼ˆæ›¿ä»£ cdï¼‰          |
| `cmake`      | è·¨å¹³å°ç¼–è¯‘å·¥å…·                   |
| `pkg-config` | ç¼–è¯‘ä¾èµ–åº“å®šä½                   |
| `starship`   | ç°ä»£åŒ–å‘½ä»¤è¡Œæç¤ºç¬¦               |

#### GUI åº”ç”¨ (Casks)

| è½¯ä»¶                 | è¯´æ˜                           |
| -------------------- | ------------------------------ |
| `keka`               | å‹ç¼©/è§£å‹å·¥å…·                  |
| `drawio`             | æµç¨‹å›¾ç»˜åˆ¶å·¥å…·                 |
| `iina`               | ç°ä»£åŒ–è§†é¢‘æ’­æ”¾å™¨               |
| `baidunetdisk`       | ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯                 |
| `appcleaner`         | åº”ç”¨å½»åº•å¸è½½å·¥å…·               |
| `warp`               | ç°ä»£åŒ–ç»ˆç«¯ï¼ˆRust ç¼–å†™ï¼‰        |
| `raycast`            | å¿«æ·å¯åŠ¨å™¨ï¼ˆSpotlight æ›¿ä»£ï¼‰   |
| `openinterminal`     | Finder å³é”®æ‰“å¼€ç»ˆç«¯            |
| `devtoys`            | å¼€å‘è€…å·¥å…·é›†ï¼ˆç¼–ç /æ ¼å¼åŒ–ï¼‰    |
| `popclip`            | é€‰ä¸­æ–‡æœ¬å¿«æ·æ“ä½œ               |
| `google-chrome`      | Chrome æµè§ˆå™¨                  |
| `buzz`               | æœ¬åœ°éŸ³é¢‘è½¬æ–‡å­—ï¼ˆåŸºäº Whisperï¼‰ |
| `betterdisplay`      | æ˜¾ç¤ºå™¨ç®¡ç†å·¥å…·                 |
| `aldente`            | ç”µæ± å¥åº·ç®¡ç†ï¼ˆé™åˆ¶å……ç”µï¼‰       |
| `visual-studio-code` | VS Code ç¼–è¾‘å™¨                 |
| `zed`                | é«˜æ€§èƒ½ä»£ç ç¼–è¾‘å™¨ï¼ˆRust ç¼–å†™ï¼‰  |
| `iterm2`             | å¢å¼ºå‹ç»ˆç«¯æ¨¡æ‹Ÿå™¨               |

> ğŸ’¡ æ ¹æ®éœ€è¦åœ¨ `brew-packages.txt` ä¸­æ·»åŠ æˆ–åˆ é™¤è½¯ä»¶

### å¯é€‰/å»ºè®®è½¯ä»¶

ä»¥ä¸‹æ˜¯ä¸€äº›æ¨èçš„å¼€å‘å·¥å…·ï¼ŒæŒ‰éœ€æ·»åŠ åˆ° `brew-packages.txt`ï¼š

#### AI ç¼–è¾‘å™¨ & ç¼–ç¨‹åŠ©æ‰‹

| è½¯ä»¶          | ç±»å‹ | è¯´æ˜                                                        |
| ------------- | ---- | ----------------------------------------------------------- |
| `cursor`      | Cask | AI ä»£ç ç¼–è¾‘å™¨ï¼ˆVS Code forkï¼‰                               |
| `windsurf`    | Cask | Codeium AI IDE                                              |
| `trae`        | Cask | å­—èŠ‚è·³åŠ¨ AI IDE                                             |
| `antigravity` | Cask | Google DeepMind AI ç¼–ç¨‹åŠ©æ‰‹                                 |
| `claude-code` | npm  | Claude CLI ç¼–ç¨‹åŠ©æ‰‹ï¼ˆ`npm i -g @anthropic-ai/claude-code`ï¼‰ |

#### å®¹å™¨ & è™šæ‹ŸåŒ–

| è½¯ä»¶             | ç±»å‹ | è¯´æ˜                         |
| ---------------- | ---- | ---------------------------- |
| `orbstack`       | Cask | è½»é‡ Docker æ›¿ä»£ï¼ˆæ€§èƒ½æ›´å¥½ï¼‰ |
| `docker`         | Cask | Docker Desktop               |
| `podman-desktop` | Cask | Podman å®¹å™¨ç®¡ç†              |

#### å¼€å‘å·¥å…·

| è½¯ä»¶      | ç±»å‹     | è¯´æ˜               |
| --------- | -------- | ------------------ |
| `lazygit` | Formulae | Git ç»ˆç«¯ UI        |
| `gh`      | Formulae | GitHub CLI         |
| `neovim`  | Formulae | ç°ä»£åŒ– Vim         |
| `tmux`    | Formulae | ç»ˆç«¯å¤ç”¨å™¨         |
| `httpie`  | Formulae | ç°ä»£åŒ– HTTP å®¢æˆ·ç«¯ |
| `postman` | Cask     | API æµ‹è¯•å·¥å…·       |

#### æ•ˆç‡å·¥å…·

| è½¯ä»¶        | ç±»å‹ | è¯´æ˜                 |
| ----------- | ---- | -------------------- |
| `arc`       | Cask | ç°ä»£åŒ–æµè§ˆå™¨         |
| `notion`    | Cask | ç¬”è®° & åä½œå·¥å…·      |
| `obsidian`  | Cask | Markdown çŸ¥è¯†åº“      |
| `1password` | Cask | å¯†ç ç®¡ç†å™¨           |
| `shottr`    | Cask | æˆªå›¾å·¥å…·ï¼ˆæ”¯æŒ OCRï¼‰ |
| `rectangle` | Cask | çª—å£ç®¡ç†å·¥å…·         |

> ğŸ’¡ å®Œæ•´çš„å¯é€‰è½¯ä»¶æ¸…å•è¯·æŸ¥çœ‹ `supplementary-application.txt`

## âš™ï¸ è‡ªå®šä¹‰é…ç½®

ç¼–è¾‘ `setup-macos.sh` é¡¶éƒ¨ï¼š

```bash
# è®¾ä¸º 0 è·³è¿‡å¯¹åº”è¯­è¨€å®‰è£…
INSTALL_NODE=1
INSTALL_PYTHON=1
INSTALL_RUST=1
INSTALL_JAVA=1
INSTALL_GO=1

# ç‰ˆæœ¬ç­–ç•¥ï¼ˆåªé”ä¸»ç‰ˆæœ¬å·ï¼‰
PYTHON_MAJOR="3.12"   # â†’ 3.12.x æœ€æ–°
NODE_MAJOR="22"       # â†’ 22.x æœ€æ–°
JAVA_MAJOR="21"       # â†’ 21 LTS
# Go ä½¿ç”¨ Homebrew ç®¡ç†ï¼Œå§‹ç»ˆå®‰è£…æœ€æ–°ç‰ˆ
```

## ğŸ”„ å›æ»šæ“ä½œ

| æ¨¡å¼     | å‘½ä»¤                 | æ•ˆæœ                                    |
| -------- | -------------------- | --------------------------------------- |
| **soft** | `./rollback.sh soft` | ç¦ç”¨é…ç½®å—ï¼ˆä¸åˆ é™¤ä»»ä½•å†…å®¹ï¼‰            |
| **env**  | `./rollback.sh env`  | ç§»é™¤é…ç½®ã€åˆ é™¤è¯­è¨€ç¯å¢ƒã€æ¢å¤åŸå§‹è®¾ç½® âœ¨ |
| **full** | `./rollback.sh full` | å¸è½½æ‰€æœ‰è½¯ä»¶ï¼ˆé«˜é£é™©ï¼‰                  |

> ğŸ’¡ **æ¨èä½¿ç”¨ env æ¨¡å¼**ï¼šå®Œå…¨æ¢å¤åˆ°è¿è¡Œè„šæœ¬å‰çš„çŠ¶æ€

## ğŸ”§ æ•…éšœæ’æŸ¥

### Homebrew å®‰è£…å¤±è´¥

```bash
# æ£€æŸ¥ç½‘ç»œ
ping -c 3 github.com

# æ‰‹åŠ¨å®‰è£…
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Apple Silicon æ·»åŠ  PATH
echo 'export PATH="/opt/homebrew/bin:$PATH"' >> ~/.zshrc
```

### Python/Node ç‰ˆæœ¬æœªæ‰¾åˆ°

```bash
# æ›´æ–°ç‰ˆæœ¬åˆ—è¡¨ï¼Œæ£€æŸ¥å¯ç”¨ç‰ˆæœ¬
pyenv install -l | grep "^  3.12"
fnm list-remote | grep "^v22"

# ä¿®æ”¹ setup-macos.sh ä¸­çš„ç‰ˆæœ¬å·
```

### .zshrc é…ç½®æ··ä¹±

```bash
# æŸ¥çœ‹å¤‡ä»½
ls -la ~/.mac-setup-backup/

# æ¢å¤å¤‡ä»½
cp ~/.mac-setup-backup/zshrc.before-*.bak ~/.zshrc

# æˆ–æ‰§è¡Œå›æ»š
./rollback.sh env
```

### æƒé™ä¸è¶³

```bash
chmod +x setup-macos.sh rollback.sh
```

## ğŸ“ æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶                            | ç”¨é€”              |
| ------------------------------- | ----------------- |
| `setup-macos.sh`                | ä¸»å®‰è£…è„šæœ¬        |
| `rollback.sh`                   | ä¸‰çº§å›æ»šè„šæœ¬      |
| `brew-packages.txt`             | è½¯ä»¶åŒ…é…ç½®æ¸…å•    |
| `supplementary-application.txt` | å¯é€‰/å»ºè®®è½¯ä»¶æ¸…å• |
| `test-backup-restore.sh`        | å¤‡ä»½æ¢å¤æµ‹è¯•è„šæœ¬  |

## ğŸŒ å…¼å®¹æ€§

| ç³»ç»Ÿ                        | çŠ¶æ€      | å¤‡æ³¨                  |
| --------------------------- | --------- | --------------------- |
| macOS 14 Sonoma             | âœ… å·²æµ‹è¯• | å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒ        |
| macOS (Intel/Apple Silicon) | âœ… åº”æ”¯æŒ | Homebrew è·¯å¾„è‡ªåŠ¨é€‚é… |
| macOS 12 Monterey+          | âœ… åº”æ”¯æŒ | ä¾èµ–å·¥å…·ç‰ˆæœ¬å…¼å®¹      |

## ğŸ“„ è®¸å¯è¯

MIT License
